{% extends "resource/config.py.twig" %}

{% block custom_attributes %}
    supported_interfaces=["interface", "ethernet", "vlan", "bridge"]
{% endblock %}
{% block custom_method %}
    def render_config(self, spec, conf):
        sp = re.split("set |add ", conf)
        intype = sp[0].strip()
        if intype not in self.supported_interfaces:
            return None
        del sp[0]

        configs = []
        for conf in sp:
            config = self.parse_config(spec, conf, self.facts_argument_spec)
            config["type"] = intype
            if config:
                configs.append(config)
        return configs
{% endblock %}
{% block custom_import %}
import re
{% endblock %}